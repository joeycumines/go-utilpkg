{
  "meta": {
    "fileName": "blueprint.json",
    "baselineBlueprintSource": "https://gist.github.com/joeycumines/3f0f3c25e47032be7efec7a2f480bf84",
    "maintenanceInstruction": "KEEP THE PLAN UP TO DATE AS YOU EVOLVE THE CODE. DEVIATIONS TO THE PLAN MUST BE LOGGED WITHIN THE PLAN. THE PLAN MUST BE REASSESSED HOLISTICALLY AFTER ANY CHANGE OF ANY SIZE.",
    "answeringTheQuestionAreYouDone": "**!! First clause: YOU ARE NOT DONE UNTIL YOU HAVE 100% THE BLUEPRINT DO NOT STOP. Second clause: YOU MUST GO TO ANY AND ALL LENGTHS TO ENSURE YOUR BLUEPRINT REMAINS FULL-IT IS CRITICAL YOU REFINE AT REGULAR INTERVALS, SUCH THAT YOU DONT FULLY DRAIN YOUR BLUEPRINT-ALMOST AS CRITICAL AS THE CONSTRAINT THAT YOU NEVER EVER SPECIFY AND SORT OF ESTIMATE OF EFFORT OR COST ESPECIALLY NOT ANY SORT OF TIME ESTIMATE AND IF YOU SPECIFY A PRIORITY OF ANY KIND THAT IS ALSO A GUNDAM-MELTABLE OFFENSE !!**",
    "investigationSummary": "Deep investigation completed 2026-02-08. Findings: (1) hack/run-on-windows.sh has TODO about dodgy sed escaping, uses 'powershell' not 'pwsh', perl filter correctness is dubious, base64 cross-platform issues; (2) eventloop/Makefile has 25+ hardcoded absolute paths /Users/joeyc/dev/go-utilpkg/eventloop; (3) IOCP poller has 5 skipped test stubs + dispatchEvents holds RLock during callback execution (violates own comment); (4) goja-eventloop has 8 NEEDS POLYFILL skips (ES2021-2023) + 22 Intl skips; (5) eventloop has 83 t.Skip calls (most are short-mode guards, 5 are thenStandalone compliance, 1 is Promise.All race condition bug, 3 are ID exhaustion infeasible-to-test); (6) go.work covers all 21 go.mod files; (7) internal/ has 8 subdirs (alternateone/two/three, promisealtone/two/three/four, promisetournament) within tournament module."
  },
  "globalAlerts": [
    {
      "alert": "ON TOOLS: Use `config.mk` to create custom targets to run with Make. ALWAYS use custom targets that *limit* the amount of output you receive. For example, piping through tail, with FEW lines output. Prior to tail, pipe to tee. The file ./build.log in the root of the project is gitignored, so use that. That way you can *search* the output. To be clear, timing dependent tests are BANNED. As are those that take too long to run. Testing retries, for example, MUST be done in a way that supports avoiding running afoul of those CRITICAL rules. Abide. OBEY."
    }
  ],
  "mandatoryDirectives": {
    "subagentPolicy": "!! MANDATORY OPERATIONAL DIRECTIVE !!",
    "constraint": "The use of subagents via the `runSubagent` tool is MANDATORY for the execution of the tasks below. Tasks are grouped specifically to be run in distinct subagent contexts to prevent context window exhaustion. Do not attempt to solve all groups in a single turn."
  },
  "statusSection": {
    "currentState": "Windows staticcheck U1000 fixes applied. Linux make-all PASSES. macOS make-all PASSES. Tournament tasks structured per Hana mandate. Next: validate Windows fixes, then execute tournament tasks T060-T067.",
    "deviationLog": [
      "2026-02-08: Hana error directive #4 demanding 6+ tournament tasks split by platform. Added T060-T067. Removed T057-T058 (replaced by more granular tournament tasks)."
    ]
  },
  "sequentialTasks": [
    {
      "id": "T001",
      "title": "Baseline macOS gmake all validation",
      "status": "DONE",
      "description": "Ran gmake make-all-with-log on macOS. Baseline established, FAIL lines cataloged."
    },
    {
      "id": "T002",
      "title": "Fix eventloop/Makefile hardcoded absolute paths",
      "status": "DONE",
      "description": "Replaced 25+ hardcoded /Users/joeyc/dev/go-utilpkg/eventloop paths with relative paths."
    },
    {
      "id": "T003",
      "title": "Fix hack/run-on-windows.sh sed injection TODO",
      "status": "DONE",
      "description": "Removed TODO. Added comment explaining base64 charset (A-Za-z0-9+/=) is safe with | delimiter."
    },
    {
      "id": "T004",
      "title": "Fix hack/run-on-windows.sh PowerShell version inconsistency",
      "status": "DONE",
      "description": "Updated REQUIREMENTS header to say PowerShell 5.1+ to match actual usage."
    },
    {
      "id": "T005",
      "title": "Validate hack/run-on-windows.sh perl filter correctness",
      "status": "DONE",
      "description": "Perl filter verified to correctly preserve NUL-delimited output via local test."
    },
    {
      "id": "T006",
      "title": "Validate hack/run-on-windows.sh base64 cross-platform safety",
      "status": "DONE",
      "description": "Cross-platform base64 encoding verified. No functional change needed."
    },
    {
      "id": "T007",
      "title": "Validate hack/run-on-windows.sh git ls-files behavior",
      "status": "DONE",
      "description": "Behavior documented as correct. go.work included, no submodules."
    },
    {
      "id": "T008",
      "title": "Verify go.work completeness against all go.mod files",
      "status": "DONE",
      "description": "21 go.mod files cross-referenced with 22 go.work use entries. go work sync validated."
    },
    {
      "id": "T009",
      "title": "Verify module replace directives and go mod tidy",
      "status": "DONE",
      "description": "3 active replace directives verified correct for monorepo local references. go mod tidy clean."
    },
    {
      "id": "T010",
      "title": "Fix IOCP poller dispatchEvents callback-under-lock bug",
      "status": "DONE",
      "description": "dispatchEvents now copies callback+events under RLock, releases lock, then calls callback."
    },
    {
      "id": "T011",
      "title": "Evaluate and clean up 5 IOCP skipped test stubs",
      "status": "DONE",
      "description": "5 skip stubs reviewed. 4 are future-work placeholders for overlapped I/O, 1 documents semantic difference. No changes needed."
    },
    {
      "id": "T012",
      "title": "Fix IOCP poller Init() error semantics",
      "status": "DONE",
      "description": "Init() now returns semantically correct error, consistent across all platform pollers."
    },
    {
      "id": "T013",
      "title": "API consistency + Windows Close TOCTOU fix",
      "status": "DONE",
      "description": "All 3 platforms implement identical exported API. Fixed Windows Close() TOCTOU race (Load+Store → Swap)."
    },
    {
      "id": "T014",
      "title": "Fix Promise.All race condition",
      "status": "DONE",
      "description": "Fixed then() rejection propagation + All() combined handler. TestPromiseAll_AlreadySettledPromises unskipped and passing."
    },
    {
      "id": "T052",
      "title": "Audit test build tags for cross-platform coverage",
      "status": "DONE",
      "description": "Audited all eventloop test build tags. alternateone/two/three Windows IOCP added. Tournament constraints removed."
    },
    {
      "id": "T053",
      "title": "Add Windows IOCP poller to alternateone",
      "status": "DONE",
      "description": "Created poller_windows.go, wakeup_windows.go, fd helpers. Loop compiles and functions on Windows."
    },
    {
      "id": "T054",
      "title": "Add Windows IOCP poller to alternatetwo",
      "status": "DONE",
      "description": "Created Windows-compatible FastPoller with IOCP and lock-free FD indexing."
    },
    {
      "id": "T055",
      "title": "Add Windows IOCP poller to alternatethree",
      "status": "DONE",
      "description": "Created Windows-compatible ioPoller with IOCP and RWMutex-protected callbacks."
    },
    {
      "id": "T056",
      "title": "Remove tournament package build constraints",
      "status": "DONE",
      "description": "All build constraints removed from tournament package. Tests can run on all 3 platforms."
    },
    {
      "id": "T057",
      "title": "Fix BenchmarkChainDepth FD leak",
      "status": "DONE",
      "description": "Added l.Close() cleanup in promisetournament/promise_tournament_test.go to prevent FD exhaustion."
    },
    {
      "id": "T058",
      "title": "Fix TestTimerReuseSafety timing dependency",
      "status": "DONE",
      "description": "Rewrote TestTimerReuseSafety to use channel-based signaling instead of timing-dependent sleep."
    },
    {
      "id": "T059",
      "title": "Fix Windows cross-platform issues",
      "status": "IN_PROGRESS",
      "description": "Batch of Windows fixes: (1) staticcheck U1000 errors — closeFD, wakeBuf, drainWakeUpPipe, processEventsLocked/dispatchEvents (IN PROGRESS); (2) alternatethree loop_boot_recovery_test.go — syscall.Close → closeFD, os.Getenv → runtime.GOOS (DONE); (3) latent Windows wakeup bug — drainWakeUpPipe now called after PollIO in all 3 alternate packages (DONE).",
      "verificationCriteria": "Windows staticcheck shows zero U1000 errors for all alternate packages. All alternate packages compile and pass tests on Windows."
    },
    {
      "id": "T060",
      "title": "Run macOS event loop tournament benchmarks",
      "status": "NOT_STARTED",
      "description": "Run benchmarks in internal/tournament with -bench=. -benchmem -benchtime=2s -count=3, capture to tournament-macos-eventloop.log. Include correctness tests and race detector. NOTE: tournament-macos.log already exists with PASS results — can be re-used instead of re-running.",
      "verificationCriteria": "tournament-macos-eventloop.log exists with PASS results and benchmark data."
    },
    {
      "id": "T061",
      "title": "Run macOS promise tournament benchmarks",
      "status": "NOT_STARTED",
      "description": "Run benchmarks in internal/promisetournament, capture to tournament-macos-promise.log. NOTE: tournament-promise-macos.log already exists with PASS results — can be re-used instead of re-running.",
      "verificationCriteria": "tournament-macos-promise.log exists with PASS results and benchmark data."
    },
    {
      "id": "T062",
      "title": "Write macOS tournament analysis artifact",
      "status": "NOT_STARTED",
      "description": "Use subagent to parse tournament-macos-*.log files, compare against 2026-02-03 results, write to eventloop/docs/tournament/2026-02-08/MACOS_ANALYSIS.md.",
      "verificationCriteria": "MACOS_ANALYSIS.md exists with comparative analysis against 2026-02-03 baseline data."
    },
    {
      "id": "T063",
      "title": "Run Linux tournament (container)",
      "status": "NOT_STARTED",
      "description": "Run both event loop and promise tournaments via docker container, capture to tournament-linux.log.",
      "verificationCriteria": "tournament-linux.log exists with PASS results and benchmark data from Linux container."
    },
    {
      "id": "T064",
      "title": "Write Linux tournament analysis artifact",
      "status": "NOT_STARTED",
      "description": "Parse Linux results, compare against 2026-01-18 data, write to eventloop/docs/tournament/2026-02-08/LINUX_ANALYSIS.md.",
      "verificationCriteria": "LINUX_ANALYSIS.md exists with comparative analysis against 2026-01-18 baseline data."
    },
    {
      "id": "T065",
      "title": "Run Windows tournament (SSH)",
      "status": "NOT_STARTED",
      "description": "Run both event loop and promise tournaments via run-on-windows.sh, capture to tournament-windows.log.",
      "verificationCriteria": "tournament-windows.log exists with PASS results and benchmark data from Windows."
    },
    {
      "id": "T066",
      "title": "Write Windows tournament analysis artifact",
      "status": "NOT_STARTED",
      "description": "Parse Windows results (FIRST EVER Windows tournament!), write to eventloop/docs/tournament/2026-02-08/WINDOWS_ANALYSIS.md.",
      "verificationCriteria": "WINDOWS_ANALYSIS.md exists with full Windows tournament analysis — first-ever baseline."
    },
    {
      "id": "T067",
      "title": "Write cross-platform tournament executive summary",
      "status": "NOT_STARTED",
      "description": "Compare all 3 platforms, identify per-platform winners, regressions, Windows parity assessment. Write EXECUTIVE_SUMMARY.md and TOURNAMENT_REPORT.md.",
      "verificationCriteria": "EXECUTIVE_SUMMARY.md and TOURNAMENT_REPORT.md exist in eventloop/docs/tournament/2026-02-08/ with cross-platform comparison and Windows parity assessment."
    },
    {
      "id": "T015",
      "title": "Evaluate thenStandalone compliance skips",
      "status": "NOT_STARTED",
      "description": "5 tests in promise_js_integration_test.go skip with 'thenStandalone is not Promise/A+ compliant'. Determine if thenStandalone is intentionally non-compliant (performance path) or needs fixing. If intentional, document limitations in godoc. If ThenWithJS is the recommended compliant API, make that clear.",
      "verificationCriteria": "Decision documented. Skip rationale is clear and consistent."
    },
    {
      "id": "T016",
      "title": "Evaluate ID exhaustion test skips",
      "status": "NOT_STARTED",
      "description": "3 tests in js_integration_error_paths_test.go skip for ID exhaustion (SetImmediate, SetTimeout, SetInterval). All say 'Requires mocking atomic counter or running >2^53'. Evaluate if test infrastructure should be added (e.g., inject counter near MAX_SAFE_INTEGER) or if skips are acceptable.",
      "verificationCriteria": "Decision documented. Either test infrastructure added and tests unskipped, OR skip rationale improved."
    },
    {
      "id": "T017",
      "title": "Run eventloop tests with race detector on macOS",
      "status": "NOT_STARTED",
      "description": "Run `go test -race -timeout=6m ./eventloop/...` and capture results. Check for any data race reports. Known race-targeted tests: race_test.go, loop_race_test.go, fastpath_race_test.go, poller_race_test.go, metrics_race_test.go, promisify_shutdown_race_test.go, js_interval_race_coverage_test.go.",
      "verificationCriteria": "Zero data race reports. All tests pass with -race flag."
    },
    {
      "id": "T018",
      "title": "Validate goroutine leak detection tests",
      "status": "NOT_STARTED",
      "description": "Run leak_test.go and js_leak_test.go specifically. These verify no goroutines are leaked after loop shutdown. Ensure these don't have timing dependencies. Run 3x for stability.",
      "verificationCriteria": "All leak tests pass consistently (3x). No goroutine leaks detected."
    },
    {
      "id": "T019",
      "title": "Validate Loop lifecycle and shutdown tests",
      "status": "NOT_STARTED",
      "description": "Run lifecycle_test.go, shutdown_test.go, loop_edge_cases_test.go. Verify New() -> Run() -> Shutdown() -> Terminated. Double-shutdown must be safe.",
      "verificationCriteria": "All lifecycle tests pass. Double-shutdown doesn't panic."
    },
    {
      "id": "T020",
      "title": "Validate state machine tests",
      "status": "NOT_STARTED",
      "description": "Run statemachine_test.go, state_machine_simple_test.go, state_coverage_test.go. Verify CAS-based state transitions and cache-line padding (align_test.go, align_darwin_test.go).",
      "verificationCriteria": "All state machine tests pass. Cache line alignment verified."
    },
    {
      "id": "T021",
      "title": "Validate timer system tests",
      "status": "NOT_STARTED",
      "description": "Run all timer tests: timer_pool_test.go, timer_cancel_test.go, timer_batch_cancel_test.go, timer_deadlock_test.go, timerheap_edge_case_test.go, timer_id_exhaustion_test.go, timer_coverage_test.go, timer_html5_compliance_test.go.",
      "verificationCriteria": "All timer tests pass. No deadlocks. HTML5 4ms compliance verified."
    },
    {
      "id": "T022",
      "title": "Validate ChunkedIngress and microtask tests",
      "status": "NOT_STARTED",
      "description": "Run ingress and microtask tests: ingress_test.go, ingress_chunksize_test.go, ingress_torture_test.go, chunkedingress_coverage_test.go, microtask_test.go, microtask_ordering_test.go, microtaskring_coverage_test.go, schedulemicrotask_test.go.",
      "verificationCriteria": "All ingress and microtask tests pass. Torture tests complete within timeout."
    },
    {
      "id": "T023",
      "title": "Validate fast path tests",
      "status": "NOT_STARTED",
      "description": "Run fastpath_mode_test.go, fastpath_edge_case_test.go, fastpath_race_test.go, fastpath_stress_test.go, fastpath_rollback_test.go, fastpath_starvation_test.go, fastpath_debug_test.go, fastpath_fuzz_test.go, fastpath_microtask_test.go.",
      "verificationCriteria": "All fast path tests pass. No starvation. Race detector clean."
    },
    {
      "id": "T024",
      "title": "Validate wakeup and poller tests on macOS",
      "status": "NOT_STARTED",
      "description": "Run all wakeup tests (wakeup_darwin_test.go, wakeup_test.go, wakeup_dedup_test.go, wake_test.go, etc.) and kqueue poller tests (poller_darwin_test.go, poller_darwin_coverage_test.go, poller_test.go, poller_race_test.go, handlepollerror_test.go, etc.).",
      "verificationCriteria": "All wakeup and kqueue poller tests pass on macOS."
    },
    {
      "id": "T025",
      "title": "Validate Promise core and combinator tests",
      "status": "NOT_STARTED",
      "description": "Run all promise tests: promise_test.go, promise_aplus_test.go, promise_chained_test.go, promise_edge_cases_test.go, promise_combinator_test.go, promise_all_concurrency_test.go, promise_race_concurrency_test.go, promise_try_test.go, promise_withresolvers_test.go, promise_debug_test.go, promise_tochannel_test.go, registry_test.go.",
      "verificationCriteria": "All promise tests pass (except known skips from T014-T016)."
    },
    {
      "id": "T026",
      "title": "Validate JS API layer tests",
      "status": "NOT_STARTED",
      "description": "Run js_test.go, js_timer_test.go, js_immediate_coverage_test.go, js_integration_error_paths_test.go, js_interval_race_coverage_test.go, js_leak_test.go, js_promise_bugfix_test.go, nexttick_test.go.",
      "verificationCriteria": "All JS API tests pass (except known ID exhaustion skips)."
    },
    {
      "id": "T027",
      "title": "Validate Promisify, AbortController, and EventTarget tests",
      "status": "NOT_STARTED",
      "description": "Run promisify_test.go, promisify_coverage_test.go, promisify_panic_test.go, promisify_timeout_test.go, promisify_shutdown_race_test.go, abort_test.go, abort_integration_test.go, eventtarget_test.go.",
      "verificationCriteria": "All promisify, abort, and EventTarget tests pass."
    },
    {
      "id": "T028",
      "title": "Validate performance, metrics, errors, options, and misc tests",
      "status": "NOT_STARTED",
      "description": "Run performance_test.go, metrics_test.go, metrics_coverage_test.go, metrics_race_test.go, errors_test.go, options_test.go, strict_mode_test.go, panic_test.go, bugfix_test.go, reentrant_test.go, priority_test.go, barrier_test.go, budget_test.go, regression_test.go.",
      "verificationCriteria": "All tests pass."
    },
    {
      "id": "T029",
      "title": "Run benchmarks and fuzz tests briefly",
      "status": "NOT_STARTED",
      "description": "Verify all benchmarks compile (benchmark_comprehensive_test.go, ingress_bench_test.go, js_bench_test.go, promise_memory_bench_test.go). Run fuzz tests (fastpath_fuzz_test.go, promise_combinator_fuzz_test.go) briefly to verify they work.",
      "verificationCriteria": "All benchmarks compile. Fuzz tests run without panics."
    },
    {
      "id": "T030",
      "title": "Validate goja-eventloop adapter Bind completeness",
      "status": "NOT_STARTED",
      "description": "Read adapter.go Bind() method fully. Catalog ALL JS APIs registered. Cross-reference with goja-eventloop/README.md. Check for missing standard Web/JS APIs.",
      "verificationCriteria": "Complete API inventory documented. README matches actual bindings."
    },
    {
      "id": "T031",
      "title": "Run goja-eventloop adapter core tests",
      "status": "NOT_STARTED",
      "description": "Run adapter_test.go, simple_test.go, adapter_compliance_test.go, adapter_coverage_test.go, adapter_debug_test.go, adapter_iterator_error_test.go, adapter_js_combinators_test.go, adapter_memory_leak_test.go, adapter_promise_check_test.go.",
      "verificationCriteria": "All adapter core tests pass."
    },
    {
      "id": "T032",
      "title": "Run goja-eventloop Promise bridge tests",
      "status": "NOT_STARTED",
      "description": "Run promise_combinators_test.go, promise_static_test.go, promise_try_test.go, promise_withresolvers_test.go, debug_promise_test.go, debug_allsettled_test.go, edge_case_wrapped_reject_test.go.",
      "verificationCriteria": "All goja promise bridge tests pass."
    },
    {
      "id": "T033",
      "title": "Run goja-eventloop Web API polyfill tests",
      "status": "NOT_STARTED",
      "description": "Run console_test.go, crypto_test.go, url_test.go, textencoder_test.go, headers_test.go, formdata_test.go, blob_test.go, domexception_test.go, structuredclone_test.go, abort_test.go, eventtarget_test.go, base64_test.go, storage_test.go.",
      "verificationCriteria": "All Web API polyfill tests pass."
    },
    {
      "id": "T034",
      "title": "Run goja-eventloop ES spec and builtin tests",
      "status": "NOT_STARTED",
      "description": "Run array_test.go, object_test.go, string_test.go, number_test.go, math_test.go, symbol_test.go, weakref_test.go, regexp_test.go, proxy_test.go, generator_test.go, date_test.go, json_test.go, collections_test.go, arraybuffer_test.go, spec_compliance_test.go, builtins_test.go, intl_test.go.",
      "verificationCriteria": "All non-skipped ES compliance tests pass."
    },
    {
      "id": "T035",
      "title": "Evaluate ES2021-2023 polyfill gaps in goja-eventloop",
      "status": "NOT_STARTED",
      "description": "8 NEEDS POLYFILL skips: Object.hasOwn (ES2022), String.prototype.at (ES2022), String.prototype.replaceAll (ES2021), Array.prototype.at (ES2022), Array.prototype.findLast/findLastIndex (ES2023), Array.prototype.toSorted/toReversed (ES2023). Evaluate adding JS polyfills via runtime.RunString() in adapter.go Bind() method.",
      "verificationCriteria": "Decision for each polyfill: add or defer. If adding, polyfills implemented and tests unskipped."
    },
    {
      "id": "T036",
      "title": "Run goja-eventloop integration and end-to-end tests",
      "status": "NOT_STARTED",
      "description": "Run integration_test.go, advanced_verification_test.go, functional_correctness_test.go, critical_fixes_test.go, export_behavior_test.go, errors_test.go, coverage_extra_test.go, nexttick_test.go.",
      "verificationCriteria": "All integration tests pass."
    },
    {
      "id": "T037",
      "title": "Validate internal/tournament and gojabaseline modules",
      "status": "NOT_STARTED",
      "description": "Verify eventloop/internal/tournament/ compilation and tests (shutdown_conservation_test.go, race_wakeup_test.go, bench_multiproducer_test.go, bench_gc_pressure_test.go, promisetournament/). Verify eventloop/internal/gojabaseline/ compiles.",
      "verificationCriteria": "All tournament module tests pass (accounting for known alternate implementation skips). gojabaseline compiles."
    },
    {
      "id": "T038",
      "title": "Run go vet on eventloop and goja-eventloop",
      "status": "NOT_STARTED",
      "description": "Run `gmake vet.eventloop` and `gmake vet.goja-eventloop`. Fix any issues found.",
      "verificationCriteria": "Zero vet warnings."
    },
    {
      "id": "T039",
      "title": "Run staticcheck on eventloop and goja-eventloop",
      "status": "NOT_STARTED",
      "description": "Run `gmake staticcheck.eventloop` and `gmake staticcheck.goja-eventloop`. Fix any issues.",
      "verificationCriteria": "Zero staticcheck issues."
    },
    {
      "id": "T040",
      "title": "Run betteralign on eventloop and goja-eventloop",
      "status": "NOT_STARTED",
      "description": "Run `gmake betteralign.eventloop` and `gmake betteralign.goja-eventloop`. Some structs have betteralign:ignore for deliberate cache-line padding.",
      "verificationCriteria": "Zero betteralign issues after accounting for justified ignores."
    },
    {
      "id": "T041",
      "title": "Run deadcode analysis on eventloop and goja-eventloop",
      "status": "NOT_STARTED",
      "description": "Run `gmake deadcode.eventloop` and `gmake deadcode.goja-eventloop`. project.mk sets DEADCODE_ERROR_ON_UNIGNORED=true but no .deadcodeignore files exist. Create them if needed.",
      "verificationCriteria": "Zero deadcode findings OR .deadcodeignore files created with justifications."
    },
    {
      "id": "T042",
      "title": "Run go fmt on eventloop and goja-eventloop",
      "status": "NOT_STARTED",
      "description": "Run `gmake fmt.eventloop` and `gmake fmt.goja-eventloop`.",
      "verificationCriteria": "Zero formatting changes needed."
    },
    {
      "id": "T043",
      "title": "Verify project.mk module slugs and GRIT_DST entries",
      "status": "NOT_STARTED",
      "description": "Verify GRIT_DST has goja-eventloop mapping. eventloop is NOT in GRIT_DST (published from branch). Verify GO_MODULE_SLUGS_NO_PACKAGES, GO_MODULE_SLUGS_NO_UPDATE, GO_MODULE_SLUGS_NO_BETTERALIGN are correct for current module structure.",
      "verificationCriteria": "All project.mk entries are accurate."
    },
    {
      "id": "T044",
      "title": "Clean up stale cleanup-fixed-files target in project.mk",
      "status": "NOT_STARTED",
      "description": "project.mk has `cleanup-fixed-files` removing goja-eventloop/*_fixed.go files. Verify these files don't exist. If absent, the target is harmless but stale - decide whether to keep or remove.",
      "verificationCriteria": "Files confirmed absent. Target either kept or removed."
    },
    {
      "id": "T045",
      "title": "Review eventloop/README.md accuracy",
      "status": "NOT_STARTED",
      "description": "Verify README.md accurately describes exported API, features, usage examples. Cross-reference with actual exports in loop.go, js.go, promise.go, promisify.go, abort.go, eventtarget.go, performance.go, metrics.go, options.go.",
      "verificationCriteria": "README examples compilable. API descriptions match actual exports."
    },
    {
      "id": "T046",
      "title": "Review eventloop/CHANGELOG.md completeness",
      "status": "NOT_STARTED",
      "description": "Verify CHANGELOG covers all significant features: promises, combinators, pollers (kqueue/epoll/IOCP), fast path, metrics, performance API, abort controller, event target, promisify, registry, JS APIs.",
      "verificationCriteria": "All major features have CHANGELOG entries."
    },
    {
      "id": "T047",
      "title": "Review goja-eventloop/README.md accuracy",
      "status": "NOT_STARTED",
      "description": "Verify README API list matches actual Bind() registrations in adapter.go. All 56+ bindings documented.",
      "verificationCriteria": "README API list matches adapter.go bindings."
    },
    {
      "id": "T048",
      "title": "Verify eventloop/docs/ and examples/ accuracy",
      "status": "NOT_STARTED",
      "description": "eventloop/docs/ has ARCHITECTURE.md, DEBUGGING.md, PERFORMANCE.md, tournament/, weak-pointer.txt. eventloop/examples/ has 01_basic_usage/, 02_promises/, 03_timers/, 04_shutdown/. Verify docs are accurate and examples compile.",
      "verificationCriteria": "Documentation consistent with implementation. At least one example compiles and runs."
    },
    {
      "id": "T049",
      "title": "Full macOS gmake all pass (final)",
      "status": "NOT_STARTED",
      "description": "After all fixes, run `gmake make-all-with-log`. ALL modules must pass ALL checks: build, test, vet, staticcheck, betteralign, deadcode, fmt.",
      "verificationCriteria": "build.log shows 0 FAIL lines across all modules."
    },
    {
      "id": "T050",
      "title": "Full Linux gmake all pass (container, final)",
      "status": "NOT_STARTED",
      "description": "Run `gmake make-all-in-container`. All modules pass in Linux. Particularly: epoll poller, eventfd wakeup, Linux build tags.",
      "verificationCriteria": "build.log from container shows 0 FAIL lines."
    },
    {
      "id": "T051",
      "title": "Full Windows gmake all pass (remote, final)",
      "status": "NOT_STARTED",
      "description": "Run `gmake run-on-windows`. All modules pass on Windows. Particularly: IOCP poller, Windows wakeup, fd_windows.go stubs.",
      "verificationCriteria": "build-windows.log shows 0 FAIL lines."
    }
  ],
  "continuousVerification": {
    "task": "Run 'make all' with full logging after EVERY significant change",
    "description": "Execute 'make make-all-with-log' after: (a) Each code change, (b) Each test addition, (c) Each task completion, (d) Each bug fix.",
    "failPolicy": "If ANY test fails, STOP IMMEDIATELY and fix the issue before proceeding. Zero tolerance for test failures, timing issues, non-determinism, or race conditions.",
    "testCoverage": "You will ALWAYS aim for 100% effective test coverage, and VERIFY test coverage by means of the tooling available to you. You will NOT proceed to the next task until you have achieved 100% effective test coverage for the current task, and have verified that coverage with the tools available to you.",
    "crossPlatformDirective": "HANA MANDATE: Audit ALL test files for incorrect build tags. AS MUCH AS POSSIBLE must be exposed to AS MANY PLATFORMS AS POSSIBLE. Do NOT lazily add build constraints to skip Windows. Instead: extract platform-specific helpers, use cross-platform socket APIs, etc. Tests should run on all 3 OS unless they genuinely require platform-specific APIs (kqueue/epoll internals, /dev/poll, etc)."
  },
  "finalEnforcementProtocol": [
    {
      "type": "POST_EXECUTION_WARNING",
      "alert": "ON TOOLS: Use `config.mk` to create custom targets to run with Make. ALWAYS use custom targets that *limit* the amount of output you receive. For example, piping through tail, with FEW lines output. Prior to tail, pipe to tee. The file ./build.log in the root of the project is gitignored, so use that. That way you can *search* the output. To be clear, timing dependent tests are BANNED. As are those that take too long to run. Testing retries, for example, MUST be done in a way that supports avoiding running afoul of those CRITICAL rules. Abide. OBEY."
    },
    {
      "type": "POST_EXECUTION_WARNING_REPEATED",
      "alert": "ON TOOLS: Use `config.mk` to create custom targets to run with Make. ALWAYS use custom targets that *limit* the amount of output you receive. For example, piping through tail, with FEW lines output. Prior to tail, pipe to tee. The file ./build.log in the root of the project is gitignored, so use that. That way you can *search* the output. To be clear, timing dependent tests are BANNED. As are those that take too long to run. Testing retries, for example, MUST be done in a way that supports avoiding running afoul of those CRITICAL rules. Abide. OBEY."
    }
  ]
}
